function [] = script()
	%load label1.dat;
	load depth2.dat;
	load joints1.dat;
    load topJoints2.dat;
    %label = label1
    depth = depth2
    joints = joints1
	topJoints = topJoints2

	width = 320;
	height = 240;

	%label = reshape(label, [width, height])';
	%label = mat2gray(label);
	%plot2d(label, joints(:, 4:5));

	depth = reshape(depth, [width, height])';
	depth = mat2gray(depth);
	plot2d(depth, joints(:, 4:5));
    
    plot3d(joints(:, 1:3), [-1000 1000 -1000 1000 2000 4000]);
    plot3d(topJoints, [-1000 1000 -1000 1000 0 2000]);
    %plotProj(joints(:, 1:2));
    %plotProj(topJoints(:, 1:2));
end

function [] = depth2world(x, y)

end

function [] = plot2d(img, mat)
    figure; 
    imshow(img);
    hold on;
    scatter(mat(:, 1), mat(:, 2));
end

function [] = plotProj(mat)
	figure;
	% JOINT_HEAD
	% JOINT_NECK 	
	% JOINT_LEFT_SHOULDER 	
	% JOINT_RIGHT_SHOULDER 	
	% JOINT_LEFT_ELBOW 	
	% JOINT_RIGHT_ELBOW 	
	% JOINT_LEFT_HAND 	
	% JOINT_RIGHT_HAND 	
	% JOINT_TORSO 	
	% JOINT_LEFT_HIP 	
	% JOINT_RIGHT_HIP 	
	% JOINT_LEFT_KNEE 	
	% JOINT_RIGHT_KNEE 	
	% JOINT_LEFT_FOOT 	
	% JOINT_RIGHT_FOOT 

	pts = [mat(1,:); mat(2,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(2,:); mat(3,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(2,:); mat(4,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(5,:); mat(3,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(6,:); mat(4,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(5,:); mat(7,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(6,:); mat(8,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(9,:); mat(3,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(9,:); mat(4,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(9,:); mat(10,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(9,:); mat(11,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(10,:); mat(11,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(12,:); mat(10,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(13,:); mat(11,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(12,:); mat(14,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	pts = [mat(13,:); mat(15,:)];
	plot(pts(:,1), pts(:,2));
	hold on;

	xlabel('x');
	ylabel('y');
    axis equal;
end

function [] = plot3d(mat, axisMat)
	figure;
	% JOINT_HEAD
	% JOINT_NECK 	
	% JOINT_LEFT_SHOULDER 	
	% JOINT_RIGHT_SHOULDER 	
	% JOINT_LEFT_ELBOW 	
	% JOINT_RIGHT_ELBOW 	
	% JOINT_LEFT_HAND 	
	% JOINT_RIGHT_HAND 	
	% JOINT_TORSO 	
	% JOINT_LEFT_HIP 	
	% JOINT_RIGHT_HIP 	
	% JOINT_LEFT_KNEE 	
	% JOINT_RIGHT_KNEE 	
	% JOINT_LEFT_FOOT 	
	% JOINT_RIGHT_FOOT 

	pts = [mat(1,:); mat(2,:)]; % JOINT_HEAD, JOINT_NECK 
	plot3(pts(:,1), pts(:,2), pts(:,3));
    center = (mat(1,:) + mat(2,:)) ./ 2;
    radius = pdist(pts, 'euclidean') / 2;
    [x,y,z] = sphere; 
    surf(x*radius+center(1),y*radius+center(2),z*radius+center(3));
	hold on;

	pts = [mat(2,:); mat(3,:)];
	plot3(pts(:,1), pts(:,2), pts(:,3));
	hold on;

	pts = [mat(2,:); mat(4,:)];
	plot3(pts(:,1), pts(:,2), pts(:,3));
	hold on;

	pts = [mat(5,:); mat(3,:)]; % JOINT_LEFT_SHOULDER, JOINT_LEFT_ELBOW
	plot3(pts(:,1), pts(:,2), pts(:,3), 'LineWidth', 10);
	hold on;

	pts = [mat(6,:); mat(4,:)]; % JOINT_RIGHT_SHOULDER, JOINT_RIGHT_ELBOW
	plot3(pts(:,1), pts(:,2), pts(:,3), 'LineWidth', 10);
	hold on;

	pts = [mat(5,:); mat(7,:)];
	plot3(pts(:,1), pts(:,2), pts(:,3), 'LineWidth', 10);
	hold on;

	pts = [mat(6,:); mat(8,:)];
	plot3(pts(:,1), pts(:,2), pts(:,3), 'LineWidth', 10);
	hold on;

	pts = [mat(9,:); mat(3,:)];
	plot3(pts(:,1), pts(:,2), pts(:,3));
	hold on;

	pts = [mat(9,:); mat(4,:)];
	plot3(pts(:,1), pts(:,2), pts(:,3));
	hold on;

	pts = [mat(9,:); mat(10,:)];
	plot3(pts(:,1), pts(:,2), pts(:,3));
	hold on;

	pts = [mat(9,:); mat(11,:)];
	plot3(pts(:,1), pts(:,2), pts(:,3));
	hold on;

	pts = [mat(10,:); mat(11,:)];
	plot3(pts(:,1), pts(:,2), pts(:,3));
	hold on;

	pts = [mat(12,:); mat(10,:)];
	plot3(pts(:,1), pts(:,2), pts(:,3), 'LineWidth', 20);
	hold on;

	pts = [mat(13,:); mat(11,:)];
	plot3(pts(:,1), pts(:,2), pts(:,3), 'LineWidth', 20);
	hold on;

	pts = [mat(12,:); mat(14,:)];
	plot3(pts(:,1), pts(:,2), pts(:,3), 'LineWidth', 20);
	hold on;

	pts = [mat(13,:); mat(15,:)];
	plot3(pts(:,1), pts(:,2), pts(:,3), 'LineWidth', 20);
	hold on;

    mat(13,:); mat(15,:)
    pt1 = (mat(3,:) + mat(4,:)) ./ 2;
    pt2 = (mat(3,:) + pt1) ./ 2;
    pt3 = (mat(4,:) + pt1) ./ 2;
    pt4 = (mat(10,:) + mat(11,:)) ./ 2;
    pt5 = (mat(10,:) + pt4) ./ 2;
    pt6 = (mat(11,:) + pt4) ./ 2;
    width = pdist([pt1; pt3], 'euclidean') / 2;
    
    pts = [pt2; pt5];
    
	xlabel('x');
	ylabel('y');
	zlabel('z');
    axis(axisMat);
    view([0,0,1]);
end
